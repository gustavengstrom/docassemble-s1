metadata:
  title: |
    ESRS-S1-1
  short title: |
    Social 1-1 Own Workforce&#58; Policies related to own workforce
  show login: False
  description: |
    The undertaking shall describe its policies adopted to manage its material impacts on its own workforce, as well as associated material risks and opportunities. All questions marked with * are voluntary. If unsure, leave blank. 
  revision_date: 2024-12-30
---
modules:
  - .post
---
features:
  #css: sds.css # local CSS pointer ## goood tutorial for styling da: https://www.youtube.com/watch?v=6a3sER5MOK8
  popover trigger: hover # how to display interactive content/hyperlinks
  bootstrap theme: https://bootswatch.com/5/flatly/bootstrap.min.css
  navigation: True
  progress bar: True
  show progress bar percentage: True
  progressive: True
  inverse navbar: False
  hide navbar: True
  question help button: True
---
field: intro_screen
question: |
  Social 1-1 Own Workforce&#58; Policies related to own workforce
subquestion: |
  The undertaking shall describe its policies adopted to manage its material impacts on its own workforce, as well as associated material risks and opportunities. All questions marked with * are voluntary. If unsure, leave blank.

  To get started, press **Continue**.
---
reset:
  - validate_status
---
mandatory: True
code: |
  multi_user = True
  guest_member = None

  # If not local browser session (device_local) has a token attribute then we look if it has been submitted as a query param
  # This works together with reset validate_status to ensure that every refresh and browser start token validity is checked
  if not hasattr(device_local, 'token'):
    device_local.token = url_args.get("token", "token_arg_not_found")
  # if "token" in url_args:
  #   del url_args["token"]

  django_hostname = os.environ.get("DJANGOHOSTNAME")
  login_url = f"https://{django_hostname}/accounts/login/"

  intro_screen
  validate_status, validate_content = validate_session(device_local.token)
  if validate_status != 200:
     invalid_token_screen
  else:
    session_info = json.loads(validate_content)
    board_id = session_info.get("board_id", "")
    survey_id = session_info.get("survey_id", "")
    guest_member = session_info.get("guest_member")
    external = session_info.get("external")
    include_question_ids = session_info.get("include_question_ids")
    
  if guest_member:
    redirect_url = "https://www.beyondcsrd.se"
  else:
    redirect_url = f"https://{django_hostname}/pages/{board_id}/{survey_id}/completed/?submitted=1"

  if external:
    external_organisation_name
  else:
    external_organisation_name = None

  question_ids = ["ESRS_S1_1_1", "ESRS_S1_1_2", "ESRS_S1_1_3", "ESRS_S1_1_5", "ESRS_S1_1_6", "ESRS_S1_1_7", "ESRS_S1_1_8", "ESRS_S1_1_9", "ESRS_S1_1_10", "ESRS_S1_1_11", "ESRS_S1_1_12", "ESRS_S1_1_13", "ESRS_S1_1_14", "ESRS_S1_1_15", "ESRS_S1_1_16", "ESRS_S1_1_17", "ESRS_S1_1_18", "ESRS_S1_1_19", "ESRS_S1_1_20", "ESRS_S1_1_21", "ESRS_S1_1_22", "ESRS_S1_1_23", "ESRS_S1_1_24", "ESRS_S1_1_25", "ESRS_S1_1_26", "ESRS_S1_1_27", "ESRS_S1_1_28", "ESRS_S1_1_29", "ESRS_S1_1_30", "ESRS_S1_1_31", "ESRS_S1_1_32", "ESRS_S1_1_33", "ESRS_S1_1_34", "ESRS_S1_1_35", "ESRS_S1_1_36", "ESRS_S1_1_37", "ESRS_S1_1_38", "ESRS_S1_1_39", "ESRS_S1_1_40", "ESRS_S1_1_41"]

  if include_question_ids: 
    for question_id in question_ids:
        if not question_id in include_question_ids:
          define(question_id, "")
          
  else:
    include_question_ids = question_ids
    

  # This is needed so we can filter active interviews on board_id
  session_tags().add(board_id)
  session_tags().add(board_id+"__"+survey_id)

  survey_data = []
  survey_data.append({'name': 'Does the undertaking have policies to manage its material impacts, risks and opportunities related to its own workforce in accordance with ESRS 2 MDR-P Policies adopted to manage material sustainability matters?', 'value': ESRS_S1_1_1 if ESRS_S1_1_1!='None' else '', 'id': 'ESRS_S1_1_1', 'answer_type': 'Yes/No/Partly', 'included': 'ESRS_S1_1_1' in include_question_ids})
  if not defined('ESRS_S1_1_2'):
    define('ESRS_S1_1_2', '_n/a_')
  survey_data.append({'name': 'Please disclose the reasons for not having adopted policies relating to own workforce.*', 'value': ESRS_S1_1_2, 'id': 'ESRS_S1_1_2', 'answer_type': 'OPEN_LARGE', 'condition': 'ESRS_S1_1_1', 'condition_criteria': 'No', 'included': 'ESRS_S1_1_2' in include_question_ids})
  if not defined('ESRS_S1_1_3'):
    define('ESRS_S1_1_3', '_n/a_')
  survey_data.append({'name': 'Please disclose the timeframe in which the undertakings aims to adopt policies relating to own workforce.*', 'value': ESRS_S1_1_3, 'id': 'ESRS_S1_1_3', 'answer_type': 'OPEN', 'condition': 'ESRS_S1_1_1', 'condition_criteria': 'No', 'included': 'ESRS_S1_1_3' in include_question_ids})
  if ESRS_S1_1_1 in ['Yes', 'Partly']:
    ESRS_S1_1_4.gather()
  else:
    EmptyPlaceHolderThing.name.text = ''
    ESRS_S1_1_4.append(EmptyPlaceHolderThing)
    ESRS_S1_1_4.there_is_another = False
    ESRS_S1_1_4.gathered = True
  for index, indicator in enumerate(ESRS_S1_1_4):
    if not indicator.attribute_defined('ESRS_S1_1_5'):
      indicator.ESRS_S1_1_5 = '_n/a_'
    survey_data.append({'name': 'Please describe the key contents of the policy relating to the undertaking&#x27;s own workforce. The undertaking shall specify if such policies cover specific groups within its own workforce or all of its own workforce.', 'value': indicator.ESRS_S1_1_5, 'id': f'ESRS_S1_1_5__DQ{index}', 'tag': indicator.name.text, 'answer_type': 'OPEN', 'included': 'ESRS_S1_1_5' in include_question_ids, 'dynamic_group_id': 'ESRS_S1_1_4', 'dynamic_condition': 'ESRS_S1_1_1', 'dynamic_condition_criteria': 'Yes/Partly', 'dynamic_header': 'Please elaborate on the questions below for each policy.'})
    if not indicator.attribute_defined('ESRS_S1_1_6'):
      indicator.ESRS_S1_1_6 = '_n/a_'
    survey_data.append({'name': 'Please describe the scope of policy relating to own workforce or of its exclusions in terms of activities, upstream or downstream value chain, geographies and stakeholder groups if relevant.', 'value': indicator.ESRS_S1_1_6, 'id': f'ESRS_S1_1_6__DQ{index}', 'tag': indicator.name.text, 'answer_type': 'OPEN', 'included': 'ESRS_S1_1_6' in include_question_ids, 'dynamic_group_id': 'ESRS_S1_1_4', 'dynamic_condition': 'ESRS_S1_1_1', 'dynamic_condition_criteria': 'Yes/Partly', 'dynamic_header': 'Please elaborate on the questions below for each policy.'})
    if not indicator.attribute_defined('ESRS_S1_1_7'):
      indicator.ESRS_S1_1_7 = '_n/a_'
    survey_data.append({'name': 'Please describe the most senior level in organisation that is accountable for implementation of policy relating to own workforce.', 'value': indicator.ESRS_S1_1_7, 'id': f'ESRS_S1_1_7__DQ{index}', 'tag': indicator.name.text, 'answer_type': 'OPEN', 'included': 'ESRS_S1_1_7' in include_question_ids, 'dynamic_group_id': 'ESRS_S1_1_4', 'dynamic_condition': 'ESRS_S1_1_1', 'dynamic_condition_criteria': 'Yes/Partly', 'dynamic_header': 'Please elaborate on the questions below for each policy.'})
    if not indicator.attribute_defined('ESRS_S1_1_8'):
      indicator.ESRS_S1_1_8 = '_n/a_'
    survey_data.append({'name': 'Please describe the third-party standards or initiatives that are respected through implementation of policy relating to own workforce.', 'value': indicator.ESRS_S1_1_8, 'id': f'ESRS_S1_1_8__DQ{index}', 'tag': indicator.name.text, 'answer_type': 'OPEN', 'included': 'ESRS_S1_1_8' in include_question_ids, 'dynamic_group_id': 'ESRS_S1_1_4', 'dynamic_condition': 'ESRS_S1_1_1', 'dynamic_condition_criteria': 'Yes/Partly', 'dynamic_header': 'Please elaborate on the questions below for each policy.'})
    if not indicator.attribute_defined('ESRS_S1_1_9'):
      indicator.ESRS_S1_1_9 = '_n/a_'
    survey_data.append({'name': 'Please describe the consideration given to interests of key stakeholders in setting policy relating to own workforce.', 'value': indicator.ESRS_S1_1_9, 'id': f'ESRS_S1_1_9__DQ{index}', 'tag': indicator.name.text, 'answer_type': 'OPEN_LARGE', 'included': 'ESRS_S1_1_9' in include_question_ids, 'dynamic_group_id': 'ESRS_S1_1_4', 'dynamic_condition': 'ESRS_S1_1_1', 'dynamic_condition_criteria': 'Yes/Partly', 'dynamic_header': 'Please elaborate on the questions below for each policy.'})
    if not indicator.attribute_defined('ESRS_S1_1_10'):
      indicator.ESRS_S1_1_10 = '_n/a_'
    survey_data.append({'name': 'Please explain how the policy is made available to potentially affected stakeholders and stakeholders who need to help implement it relating to own workforce.', 'value': indicator.ESRS_S1_1_10, 'id': f'ESRS_S1_1_10__DQ{index}', 'tag': indicator.name.text, 'answer_type': 'OPEN_LARGE', 'included': 'ESRS_S1_1_10' in include_question_ids, 'dynamic_group_id': 'ESRS_S1_1_4', 'dynamic_condition': 'ESRS_S1_1_1', 'dynamic_condition_criteria': 'Yes/Partly', 'dynamic_header': 'Please elaborate on the questions below for each policy.'})
  if ESRS_S1_1_1 not in ['Yes', 'Partly']:
    ESRS_S1_1_4.clear()
  survey_data.append({'name': 'Please disclose if any significant changes to policies have been adopted during the reporting year.*', 'value': ESRS_S1_1_11 if ESRS_S1_1_11!='None' else '', 'id': 'ESRS_S1_1_11', 'answer_type': 'Yes/No/Partly', 'included': 'ESRS_S1_1_11' in include_question_ids})
  if not defined('ESRS_S1_1_12'):
    define('ESRS_S1_1_12', '_n/a_')
  survey_data.append({'name': 'Please disclose the changes that have been adopted during the reporting year.', 'value': ESRS_S1_1_12, 'id': 'ESRS_S1_1_12', 'answer_type': 'OPEN_LARGE', 'condition': 'ESRS_S1_1_11', 'condition_criteria': 'Yes/Partly', 'included': 'ESRS_S1_1_12' in include_question_ids})
  survey_data.append({'name': 'Does the undertaking have human rights policy commitments that are relevant to its own workforce?', 'value': ESRS_S1_1_13 if ESRS_S1_1_13!='None' else '', 'id': 'ESRS_S1_1_13', 'answer_type': 'Yes/No/Partly', 'included': 'ESRS_S1_1_13' in include_question_ids})
  if not defined('ESRS_S1_1_14'):
    define('ESRS_S1_1_14', '_n/a_')
  survey_data.append({'name': 'Please describe the human rights policy commitments related to own workforce.', 'value': ESRS_S1_1_14, 'id': 'ESRS_S1_1_14', 'answer_type': 'OPEN_LARGE', 'condition': 'ESRS_S1_1_13', 'condition_criteria': 'Yes/Partly', 'included': 'ESRS_S1_1_14' in include_question_ids})
  survey_data.append({'name': 'Please disclose the general approach in relation to respect for human rights including labour rights, of people in its own workforce.', 'value': ESRS_S1_1_15, 'id': 'ESRS_S1_1_15', 'answer_type': 'OPEN_LARGE', 'included': 'ESRS_S1_1_15' in include_question_ids})
  survey_data.append({'name': 'Please disclose the general approach in relation to engagement with people in its own workforce.', 'value': ESRS_S1_1_16, 'id': 'ESRS_S1_1_16', 'answer_type': 'OPEN_LARGE', 'included': 'ESRS_S1_1_16' in include_question_ids})
  survey_data.append({'name': 'Please disclose the general approach in relation to measures to provide and (or) enable remedy for human rights impacts .', 'value': ESRS_S1_1_17, 'id': 'ESRS_S1_1_17', 'answer_type': 'OPEN_LARGE', 'included': 'ESRS_S1_1_17' in include_question_ids})
  survey_data.append({'name': 'Are policies aligned with relevant internationally recognised instruments?', 'value': ESRS_S1_1_18 if ESRS_S1_1_18!='None' else '', 'id': 'ESRS_S1_1_18', 'answer_type': 'Yes/No/Partly', 'included': 'ESRS_S1_1_18' in include_question_ids})
  if not defined('ESRS_S1_1_19'):
    define('ESRS_S1_1_19', '_n/a_')
  survey_data.append({'name': 'Please disclose how policies align with relevant internationally recognised instruments.', 'value': ESRS_S1_1_19, 'id': 'ESRS_S1_1_19', 'answer_type': 'OPEN_LARGE', 'condition': 'ESRS_S1_1_18', 'condition_criteria': 'Yes/Partly', 'included': 'ESRS_S1_1_19' in include_question_ids})
  survey_data.append({'name': 'Do policies explicitly address trafficking in human beings, forced labour or compulsory labour and child labour?', 'value': ESRS_S1_1_20 if ESRS_S1_1_20!='None' else '', 'id': 'ESRS_S1_1_20', 'answer_type': 'Yes/No/Partly', 'included': 'ESRS_S1_1_20' in include_question_ids})
  if not defined('ESRS_S1_1_21'):
    define('ESRS_S1_1_21', '_n/a_')
  survey_data.append({'name': 'Please disclose how policies explicitly address trafficking in human beings, forced labour or compulsory labour and child labour.', 'value': ESRS_S1_1_21, 'id': 'ESRS_S1_1_21', 'answer_type': 'OPEN_LARGE', 'condition': 'ESRS_S1_1_20', 'condition_criteria': 'Yes/Partly', 'included': 'ESRS_S1_1_21' in include_question_ids})
  survey_data.append({'name': 'Does the undertaking have a workplace accident prevention policy or management system?', 'value': ESRS_S1_1_22 if ESRS_S1_1_22!='None' else '', 'id': 'ESRS_S1_1_22', 'answer_type': 'Yes/No/Partly', 'included': 'ESRS_S1_1_22' in include_question_ids})
  survey_data.append({'name': 'Does the undertaking have specific policies aimed at the elimination of discrimination, including harassment, promoting equal opportunities and other ways to advance diversity and inclusion?', 'value': ESRS_S1_1_23 if ESRS_S1_1_23!='None' else '', 'id': 'ESRS_S1_1_23', 'answer_type': 'Yes/No/Partly', 'included': 'ESRS_S1_1_23' in include_question_ids})
  if not defined('ESRS_S1_1_24'):
    define('ESRS_S1_1_24', '_n/a_')
  survey_data.append({'name': 'Please describe the policy and/or management system aimed at the elimination of discrimination, including harassment, promoting equal opportunities and other ways to advance diversity and inclusion.', 'value': ESRS_S1_1_24, 'id': 'ESRS_S1_1_24', 'answer_type': 'OPEN_LARGE', 'condition': 'ESRS_S1_1_23', 'condition_criteria': 'Yes/Partly', 'included': 'ESRS_S1_1_24' in include_question_ids})
  survey_data.append({'name': 'Are there specific policies aimed at elimination of discrimination?', 'value': ESRS_S1_1_25 if ESRS_S1_1_25!='None' else '', 'id': 'ESRS_S1_1_25', 'answer_type': 'Yes/No/Partly', 'included': 'ESRS_S1_1_25' in include_question_ids})
  survey_data.append({'name': 'Please disclose the policies aimed at elimination of discrimination.', 'value': ESRS_S1_1_26, 'id': 'ESRS_S1_1_26', 'answer_type': 'OPEN_LARGE', 'included': 'ESRS_S1_1_26' in include_question_ids})
  survey_data.append({'name': 'Are the following grounds for discrimination specifically covered in the policy&#58; racial and ethnic origin, colour, sex, sexual orientation, gender identity, disability, age, religion, political opinion, national extraction or social origin, or other forms of discrimination covered by Union regulation and national law?', 'value': ESRS_S1_1_27 if ESRS_S1_1_27!='None' else '', 'id': 'ESRS_S1_1_27', 'answer_type': 'Yes/No/Partly', 'included': 'ESRS_S1_1_27' in include_question_ids})
  if not defined('ESRS_S1_1_28'):
    define('ESRS_S1_1_28', '_n/a_')
  survey_data.append({'name': 'Please share what grounds that are covered (i.e., amongst racial and ethnic origin, colour, sex, sexual orientation, gender identity, disability, age, religion, political opinion, national extraction or social origin, or other forms of discrimination).', 'value': ESRS_S1_1_28, 'id': 'ESRS_S1_1_28', 'answer_type': 'OPEN_LARGE', 'condition': 'ESRS_S1_1_27', 'condition_criteria': 'Partly', 'included': 'ESRS_S1_1_28' in include_question_ids})
  survey_data.append({'name': 'Does the undertaking have specific policy commitments related to inclusion or positive action for people from groups at particular risk of vulnerability in its own workforce?', 'value': ESRS_S1_1_29 if ESRS_S1_1_29!='None' else '', 'id': 'ESRS_S1_1_29', 'answer_type': 'Yes/No/Partly', 'included': 'ESRS_S1_1_29' in include_question_ids})
  if not defined('ESRS_S1_1_30'):
    define('ESRS_S1_1_30', '_n/a_')
  survey_data.append({'name': 'Please disclose the commitments related to inclusion or positive action for people from groups at particular risk of vulnerability in its own workforce.', 'value': ESRS_S1_1_30, 'id': 'ESRS_S1_1_30', 'answer_type': 'OPEN_LARGE', 'condition': 'ESRS_S1_1_29', 'condition_criteria': 'Yes/Partly', 'included': 'ESRS_S1_1_30' in include_question_ids})
  survey_data.append({'name': 'Are these policies implemented through specific procedures to ensure discrimination is prevented, mitigated and acted upon once detected, as well as to advance diversity and inclusion in general?', 'value': ESRS_S1_1_31 if ESRS_S1_1_31!='None' else '', 'id': 'ESRS_S1_1_31', 'answer_type': 'Yes/No/Partly', 'included': 'ESRS_S1_1_31' in include_question_ids})
  survey_data.append({'name': 'Please share how policies are implemented through specific procedures to ensure discrimination is prevented, mitigated and acted upon once detected, as well as to advance diversity and inclusion in general.', 'value': ESRS_S1_1_32, 'id': 'ESRS_S1_1_32', 'answer_type': 'OPEN_LARGE', 'included': 'ESRS_S1_1_32' in include_question_ids})
  survey_data.append({'name': 'Please provide an illustration of the types of communication of policies to those individuals, group of individuals or entities for whom they are relevant.*', 'value': ESRS_S1_1_33, 'id': 'ESRS_S1_1_33', 'answer_type': 'OPEN_LARGE', 'included': 'ESRS_S1_1_33' in include_question_ids})
  survey_data.append({'name': 'Please disclose whether the undertaking has policies and procedures which make qualifications, skills and experience the basis for the recruitment, placement, training and advancement at all levels.*', 'value': ESRS_S1_1_34, 'id': 'ESRS_S1_1_34', 'answer_type': 'OPEN_LARGE', 'included': 'ESRS_S1_1_34' in include_question_ids})
  survey_data.append({'name': 'Please disclose whether the undertaking assigns responsibility at top management level for equal treatment and opportunities in employment, issue clear company-wide policies and procedures to guide equal employment practices, and link advancement to desired performance in this area.*', 'value': ESRS_S1_1_35, 'id': 'ESRS_S1_1_35', 'answer_type': 'OPEN_LARGE', 'included': 'ESRS_S1_1_35' in include_question_ids})
  survey_data.append({'name': 'Please disclose whether the undertaking provides or is planning to provide staff training on non-discrimination policies and practices.*', 'value': ESRS_S1_1_36, 'id': 'ESRS_S1_1_36', 'answer_type': 'OPEN_LARGE', 'included': 'ESRS_S1_1_36' in include_question_ids})
  survey_data.append({'name': 'Please disclose whether the undertaking makes adjustments to the physical environment to ensure health and safety for workers, customers and other visitors with disabilities.*', 'value': ESRS_S1_1_37, 'id': 'ESRS_S1_1_37', 'answer_type': 'OPEN_LARGE', 'included': 'ESRS_S1_1_37' in include_question_ids})
  survey_data.append({'name': 'Please disclose whether the undertaking evaluates or plans to evaluate whether job requirements have been defined in a way that could systematically disadvantage certain groups.*', 'value': ESRS_S1_1_38, 'id': 'ESRS_S1_1_38', 'answer_type': 'OPEN_LARGE', 'included': 'ESRS_S1_1_38' in include_question_ids})
  survey_data.append({'name': 'Please disclose whether the undertaking keeps or is planning to keep up-to-date records on recruitment, training and promotion that provide a transparent view of opportunities for employees and their progression within the undertaking.*', 'value': ESRS_S1_1_39, 'id': 'ESRS_S1_1_39', 'answer_type': 'OPEN_LARGE', 'included': 'ESRS_S1_1_39' in include_question_ids})
  survey_data.append({'name': 'Please disclose whether the undertaking puts or is planning to put in place grievance procedures to address complaints, handle appeals and provide recourse for employees (especially in the context of negotiations and collective agreements) when discrimination is identified, and is alert to formal structures and informal cultural issues that can prevent employees from raising concerns and grievances.*', 'value': ESRS_S1_1_40, 'id': 'ESRS_S1_1_40', 'answer_type': 'OPEN_LARGE', 'included': 'ESRS_S1_1_40' in include_question_ids})
  survey_data.append({'name': 'Please disclose whether the undertaking has or is planning to have programs to promote access to skills development.*', 'value': ESRS_S1_1_41, 'id': 'ESRS_S1_1_41', 'answer_type': 'OPEN_LARGE', 'included': 'ESRS_S1_1_41' in include_question_ids})

  card_title = 'esrs-s1-1'
  card_description = ''
  # Description section in the wekan board - need to be composed with markdown and be populated with datapartner_url from the intervfile_uploadsiew.
  card_title = f"{card_title}"
  card_description = f"{card_description}"
  
  email_title = 'esrs-s1-1'
  #! Email compose for outgoing email.
  email_body = f"Dear Partner, <br> <br> This is an automated message to confirm we have recieved the form - {email_title}.  <br> <br> Best regards <br> reportAll Team."
  
  email_data = [
      {
          "subject": email_title,
          "body": email_body,
          "recipients": [],
          "from": "info@reportall.se",
      }
  ]

  survey_data_ids = [d['id'] for d in survey_data]
  survey_analytics = []
  survey_analytics.append({"id": "S1_compliance_F1", "name": "S1 compliance ratio", "values": ["ESRS_S1_1_1", "ESRS_S1_1_2", "ESRS_S1_1_4", "ESRS_S1_1_5", "ESRS_S1_1_6", "ESRS_S1_1_7", "ESRS_S1_1_8", "ESRS_S1_1_9", "ESRS_S1_1_10", "ESRS_S1_1_12", "ESRS_S1_1_13", "ESRS_S1_1_14", "ESRS_S1_1_15", "ESRS_S1_1_16", "ESRS_S1_1_17", "ESRS_S1_1_18", "ESRS_S1_1_19", "ESRS_S1_1_20", "ESRS_S1_1_21", "ESRS_S1_1_22", "ESRS_S1_1_23", "ESRS_S1_1_24", "ESRS_S1_1_25", "ESRS_S1_1_26", "ESRS_S1_1_27", "ESRS_S1_1_28", "ESRS_S1_1_29", "ESRS_S1_1_30", "ESRS_S1_1_31", "ESRS_S1_1_32"], "dtypes": []})
  survey_analytics.append({"id": "ESRS_S1_1_F1", "name": "Policy/policies", "values": ["ESRS_S1_1_5", "ESRS_S1_1_6", "ESRS_S1_1_7", "ESRS_S1_1_8", "ESRS_S1_1_9", "ESRS_S1_1_10", "ESRS_S1_1_12"], "dtypes": ["OPEN", "OPEN", "OPEN", "OPEN", "OPEN_LARGE", "OPEN_LARGE", "OPEN_LARGE"]})
  survey_analytics.append({"id": "ESRS_S1_1_F2", "name": "Policies and procedures for inclusion in place.", "values": ["ESRS_S1_1_34", "ESRS_S1_1_35", "ESRS_S1_1_36", "ESRS_S1_1_37", "ESRS_S1_1_38", "ESRS_S1_1_39", "ESRS_S1_1_40", "ESRS_S1_1_41"], "dtypes": ["OPEN_LARGE", "OPEN_LARGE", "OPEN_LARGE", "OPEN_LARGE", "OPEN_LARGE", "OPEN_LARGE", "OPEN_LARGE", "OPEN_LARGE"]})

  survey_analytics_dq = []
  for sa_idx, sa in enumerate(survey_analytics):
    if not all([_id in survey_data_ids for _id in sa["values"]]):
      sd_tag = []
      sd_found = []
      drop_sa_ids = []
      for sd in survey_data:
        for _id in sa["values"]:
          if _id in sd["id"]:
            sd_found.append(sd["id"])
            tag = sd.get("tag")
            if tag:
              sd_tag.append(tag)
            break
        if len(sd_found) == len(sa["values"]) and len(sd_found)>0:   # Found all sa values in survey_data
          dynamic_sa_dict = survey_analytics[sa_idx].copy()
          dynamic_sa_dict["id"] = dynamic_sa_dict["id"] + f"__DQ{sd_found[0].split('__DQ')[-1]}"
          dynamic_sa_dict["values"] = sd_found
          dynamic_sa_dict["tag"] = next(iter(set(sd_tag)), None)
          survey_analytics_dq.append(dynamic_sa_dict)
          drop_sa_ids.append(sa_idx)
          sd_found = []
          sd_tag = []
    else:
      survey_analytics_dq.append(sa)


  data = {
      "board_id": board_id,
      "survey_id": survey_id,
      "external_organisation": external_organisation_name,
      "survey_data": survey_data,
      "survey_analytics": survey_analytics_dq,
      "survey_uploads": [],
      "max_responses": {"count": "1", "date_period": "year", "column_title": "Fiscal year"},
      "wekan_data": {
          "card_title": card_title,
          "card_description": card_description
  
      },
      # "email_data": email_data,
      "aux_data": [
      ],
      "guest_member": guest_member,
    }


  # send data to django
  final_screen
  reponse_status_code, response_content = store_interview_results(data)
  if reponse_status_code == 200:
    define('error_screen', False) 
    command('exit', url=redirect_url)
  else:
    error_screen
--- 
progress: 0
question: |
  Does the undertaking have policies to manage its material impacts, risks and opportunities related to its own workforce in accordance with ESRS 2 MDR-P Policies adopted to manage material sustainability matters? 
help:
  label: Help?
  heading: <BR><h6>Explanation</h6>
  content: |
    See Minimum Disclosure Requirement-Policies (MDR-P)&#58; 63.
    The undertaking shall apply the minimum disclosure requirements defined in this provision when it discloses the policies it has in place with regard to each sustainability matter identified as material.
    64.
    The objective of this Minimum Disclosure Requirement is to provide an understanding of the policies that the undertaking has in place to prevent, mitigate and remediate actual and potential impacts, to address risks and to pursue opportunities.
    65.
    The undertaking shall disclose information about policies adopted to manage material sustainability matters. The disclosure shall include the following information&#58;
    (a)
    a description of the key contents of the policy, including its general objectives and which material impacts, risks or opportunities the policy relates to and the process for monitoring;
    (b)
    a description of the scope of the policy, or of its exclusions, in terms of activities, upstream and/or downstream value chain, geographies and if relevant, affected stakeholder groups;
    (c)
    the most senior level in the undertaking’s organisation that is accountable for the implementation of the policy;
    (d)
    a reference, if relevant, to the third-party standards or initiatives the undertaking commits to respect through the implementation of the policy;
    (e)
    if relevant, a description of the consideration given to the interests of key stakeholders in setting the policy; and
    (f)
    if relevant, whether and how the undertaking makes the policy available to potentially affected stakeholders, and stakeholders who need to help implement it.
back button: True
fields:
  - no label: ESRS_S1_1_1
    input type: radio
    required: false
    choices:
      - Yes
      - No
      - Partly
  - "Please disclose the reasons for not having adopted policies relating to own workforce.*": ESRS_S1_1_2
    required: false
    datatype: area
    js show if: |
      ['No'].includes(val('ESRS_S1_1_1'))
  - "Please disclose the timeframe in which the undertakings aims to adopt policies relating to own workforce.*": ESRS_S1_1_3
    required: false
    datatype: text
    js show if: |
      ['No'].includes(val('ESRS_S1_1_1'))
---
objects:
  - ESRS_S1_1_4: DAList.using(object_type=Thing, there_are_any=True)
  - EmptyPlaceHolderThing: Thing
---
question: |
  Would you like to add another?
yesno: ESRS_S1_1_4.there_is_another
back button: True
---
progress: 4
question: |
  Please elaborate on the questions below for each policy.
back button: True
fields:
  - Please describe the key contents of the policy relating to the undertaking&#x27;s own workforce. The undertaking shall specify if such policies cover specific groups within its own workforce or all of its own workforce.: ESRS_S1_1_4[i].ESRS_S1_1_5
    datatype: text
    required: false
  - Please describe the scope of policy relating to own workforce or of its exclusions in terms of activities, upstream or downstream value chain, geographies and stakeholder groups if relevant.: ESRS_S1_1_4[i].ESRS_S1_1_6
    datatype: text
    required: false
  - Please describe the most senior level in organisation that is accountable for implementation of policy relating to own workforce.: ESRS_S1_1_4[i].ESRS_S1_1_7
    datatype: text
    required: false
  - Please describe the third-party standards or initiatives that are respected through implementation of policy relating to own workforce.: ESRS_S1_1_4[i].ESRS_S1_1_8
    datatype: text
    required: false
  - Please describe the consideration given to interests of key stakeholders in setting policy relating to own workforce.: ESRS_S1_1_4[i].ESRS_S1_1_9
    datatype: area
    required: false
  - Please explain how the policy is made available to potentially affected stakeholders and stakeholders who need to help implement it relating to own workforce.: ESRS_S1_1_4[i].ESRS_S1_1_10
    datatype: area
    required: false
--- 
progress: 8
question: |
  Please disclose if any significant changes to policies have been adopted during the reporting year.* 
help:
  label: Help?
  heading: <BR><h6>Explanation</h6>
  content: |
    The undertaking shall consider whether explanations of significant changes to the policies adopted during the reporting year (for example, new expectations for foreign subsidiaries, new or additional approaches to due diligence and remedy) provide contextual information for users and may disclose such explanations. This includes policies and commitments of the undertaking to prevent or mitigate the risks and negative impacts on people in its own workforce of reducing carbon emissions and transitioning to greener and climate-neutral operations as well as to provide opportunities for the workforce such as job creation and upskilling, including explicit commitments to a ‘just transition’.
back button: True
fields:
  - no label: ESRS_S1_1_11
    input type: radio
    required: false
    choices:
      - Yes
      - No
      - Partly
  - "Please disclose the changes that have been adopted during the reporting year.": ESRS_S1_1_12
    required: false
    datatype: area
    js show if: |
      ['Yes', 'Partly'].includes(val('ESRS_S1_1_11'))
--- 
progress: 12
question: |
  Does the undertaking have human rights policy commitments that are relevant to its own workforce? 
help:
  label: Help?
  heading: <BR><h6>Explanation</h6>
  content: |
    These include those processes and mechanisms to monitor compliance with the UN Guiding Principles on Business and Human Rights, ILO Declaration on Fundamental Principles and Rights at Work and the OECD Guidelines for Multinational Enterprises.
back button: True
fields:
  - no label: ESRS_S1_1_13
    input type: radio
    required: false
    choices:
      - Yes
      - No
      - Partly
  - "Please describe the human rights policy commitments related to own workforce.": ESRS_S1_1_14
    required: false
    datatype: area
    js show if: |
      ['Yes', 'Partly'].includes(val('ESRS_S1_1_13'))
--- 
progress: 16
question: |
  Please disclose the general approach in relation to respect for human rights including labour rights, of people in its own workforce. 
help:
  label: Help?
  heading: <BR><h6>Explanation</h6>
  content: |
    Describe the policies focus on those matters that are material in relation to, as well as its general approach to&#58;
    (a) respect for the human rights, including labour rights, of people in its own workforce;
    (b) engagement with people in its own workforce; and
    (c) measures to provide and/or enable remedy for human rights impacts.
back button: True
fields:
  - no label: ESRS_S1_1_15
    datatype: area
    required: false
--- 
progress: 20
question: |
  Please disclose the general approach in relation to engagement with people in its own workforce. 
help:
  label: Help?
  heading: <BR><h6>Explanation</h6>
  content: |
    Are the undertaking&#x27;s policies with regard to its own workforce aligned with relevant internationally recognised instruments, including the UN Guiding Principles on Business and Human Rights?
back button: True
fields:
  - no label: ESRS_S1_1_16
    datatype: area
    required: false
--- 
progress: 24
question: |
  Please disclose the general approach in relation to measures to provide and (or) enable remedy for human rights impacts . 
back button: True
fields:
  - no label: ESRS_S1_1_17
    datatype: area
    required: false
--- 
progress: 27
question: |
  Are policies aligned with relevant internationally recognised instruments? 
help:
  label: Help?
  heading: <BR><h6>Explanation</h6>
  content: |
    This includes if they explicitly address trafficking in human beings, forced labour or compulsory labour and child labour. AR 12. When disclosing the alignment of its policies with the UN Guiding Principles on Business and Human Rights, the undertaking shall consider that the Guiding Principles refer to the International Bill of Human Rights, which consist of the Universal Declaration of Human Rights and the two Covenants that implement it, as well as the International Labour Organisation’s Declaration on Fundamental Rights and Principles at Work and the core conventions that underpin it, and may report on alignment with these instruments.
back button: True
fields:
  - no label: ESRS_S1_1_18
    input type: radio
    required: false
    choices:
      - Yes
      - No
      - Partly
  - "Please disclose how policies align with relevant internationally recognised instruments.": ESRS_S1_1_19
    required: false
    datatype: area
    js show if: |
      ['Yes', 'Partly'].includes(val('ESRS_S1_1_18'))
--- 
progress: 31
question: |
  Do policies explicitly address trafficking in human beings, forced labour or compulsory labour and child labour? 
help:
  label: Help?
  heading: <BR><h6>Explanation</h6>
  content: |
    Work that deprives children of their childhood, their potential and their dignity, and that is harmful to physical and mental development. It refers to work that&#58;
    i. is mentally, physically, socially or morally dangerous and harmful to children; and/or
    ii. interferes with their schooling by&#58; depriving them of the opportunity to attend school; obliging them to leave school prematurely; or requiring them to attempt to combine school attendance with excessively long and heavy work.
    For the purpose of this definition, a child refers to a person under the age of 15 years, or under the age of completion of compulsory schooling, whichever is higher. Exceptions can occur in certain countries where economies and educational facilities are insufficiently developed, and a minimum age of 14 years applies. These countries of exception are specified by the International Labour Organisation (ILO) in response to a special application by the country concerned and in consultation with representative organisations of employers and workers. All work or service which is exacted from any person under the threat of penalty and for which the person has not offered himself or herself voluntarily. The term encompasses all situations in which persons are coerced by any means to perform work and includes both traditional ‘slave-like’ practices and contemporary forms of coercion where labour exploitation is involved, which may include human trafficking and modern slavery.
back button: True
fields:
  - no label: ESRS_S1_1_20
    input type: radio
    required: false
    choices:
      - Yes
      - No
      - Partly
  - "Please disclose how policies explicitly address trafficking in human beings, forced labour or compulsory labour and child labour.": ESRS_S1_1_21
    required: false
    datatype: area
    js show if: |
      ['Yes', 'Partly'].includes(val('ESRS_S1_1_20'))
--- 
progress: 35
question: |
  Does the undertaking have a workplace accident prevention policy or management system? 
back button: True
fields:
  - no label: ESRS_S1_1_22
    input type: radio
    required: false
    choices:
      - Yes
      - No
      - Partly
--- 
progress: 39
question: |
  Does the undertaking have specific policies aimed at the elimination of discrimination, including harassment, promoting equal opportunities and other ways to advance diversity and inclusion? 
back button: True
fields:
  - no label: ESRS_S1_1_23
    input type: radio
    required: false
    choices:
      - Yes
      - No
      - Partly
  - "Please describe the policy and/or management system aimed at the elimination of discrimination, including harassment, promoting equal opportunities and other ways to advance diversity and inclusion.": ESRS_S1_1_24
    required: false
    datatype: area
    js show if: |
      ['Yes', 'Partly'].includes(val('ESRS_S1_1_23'))
--- 
progress: 43
question: |
  Are there specific policies aimed at elimination of discrimination? 
back button: True
fields:
  - no label: ESRS_S1_1_25
    input type: radio
    required: false
    choices:
      - Yes
      - No
      - Partly
--- 
progress: 47
question: |
  Please disclose the policies aimed at elimination of discrimination. 
back button: True
fields:
  - no label: ESRS_S1_1_26
    datatype: area
    required: false
--- 
progress: 50
question: |
  Are the following grounds for discrimination specifically covered in the policy&#58; racial and ethnic origin, colour, sex, sexual orientation, gender identity, disability, age, religion, political opinion, national extraction or social origin, or other forms of discrimination covered by Union regulation and national law? 
help:
  label: Help?
  heading: <BR><h6>Explanation</h6>
  content: |
    AR 15. Discrimination in employment and occupation occurs when someone is treated differently or less favourably because of characteristics that are not related to merit or the inherent requirements of the job. These characteristics are commonly defined in national laws. Besides the grounds mentioned in the Disclosure Requirement, the undertaking shall consider other grounds for discrimination prohibited under national legislation.
    AR 16. Discrimination can arise in a variety of work-related activities. These include access to employment, particular occupations, training and vocational guidance and social security. Moreover, it can occur with respect to the terms and conditions of employment, such as&#58; recruitment, remuneration, hours of work and rest, paid holidays, maternity protection, security of tenure, job assignments, performance assessment and advancement, training opportunities, promotion prospects, occupational safety and health, termination of employment. The undertaking may address these areas
back button: True
fields:
  - no label: ESRS_S1_1_27
    input type: radio
    required: false
    choices:
      - Yes
      - No
      - Partly
  - "Please share what grounds that are covered (i.e., amongst racial and ethnic origin, colour, sex, sexual orientation, gender identity, disability, age, religion, political opinion, national extraction or social origin, or other forms of discrimination).": ESRS_S1_1_28
    required: false
    datatype: area
    js show if: |
      ['Partly'].includes(val('ESRS_S1_1_27'))
--- 
progress: 54
question: |
  Does the undertaking have specific policy commitments related to inclusion or positive action for people from groups at particular risk of vulnerability in its own workforce? 
back button: True
fields:
  - no label: ESRS_S1_1_29
    input type: radio
    required: false
    choices:
      - Yes
      - No
      - Partly
  - "Please disclose the commitments related to inclusion or positive action for people from groups at particular risk of vulnerability in its own workforce.": ESRS_S1_1_30
    required: false
    datatype: area
    js show if: |
      ['Yes', 'Partly'].includes(val('ESRS_S1_1_29'))
--- 
progress: 58
question: |
  Are these policies implemented through specific procedures to ensure discrimination is prevented, mitigated and acted upon once detected, as well as to advance diversity and inclusion in general? 
back button: True
fields:
  - no label: ESRS_S1_1_31
    input type: radio
    required: false
    choices:
      - Yes
      - No
      - Partly
--- 
progress: 62
question: |
  Please share how policies are implemented through specific procedures to ensure discrimination is prevented, mitigated and acted upon once detected, as well as to advance diversity and inclusion in general. 
back button: True
fields:
  - no label: ESRS_S1_1_32
    datatype: area
    required: false
--- 
progress: 66
question: |
  Please provide an illustration of the types of communication of policies to those individuals, group of individuals or entities for whom they are relevant.* 
help:
  label: Help?
  heading: <BR><h6>Explanation</h6>
  content: |
    This could be either because they are expected to implement them (for example, the undertaking’s employees, contractors and suppliers), or because they have a direct interest in their implementation (for example, people in its own workforce, investors). It may disclose communication tools and channels (for example, flyers, newsletters, dedicated websites, social media, face to face interactions, workers’ representatives), aimed at ensuring that the policy is accessible and that different audiences understand its implications. The undertaking may also explain how it identifies and removes potential barriers for dissemination, such as through translation into relevant languages or the use of graphic depictions.
back button: True
fields:
  - no label: ESRS_S1_1_33
    datatype: area
    required: false
--- 
progress: 70
question: |
  Please disclose whether the undertaking has policies and procedures which make qualifications, skills and experience the basis for the recruitment, placement, training and advancement at all levels.* 
help:
  label: Help?
  heading: <BR><h6>Explanation</h6>
  content: |
    This should be accounting for the fact that some individuals may have more difficulty than others to acquire such qualifications, skills and experience.
back button: True
fields:
  - no label: ESRS_S1_1_34
    datatype: area
    required: false
--- 
progress: 74
question: |
  Please disclose whether the undertaking assigns responsibility at top management level for equal treatment and opportunities in employment, issue clear company-wide policies and procedures to guide equal employment practices, and link advancement to desired performance in this area.* 
back button: True
fields:
  - no label: ESRS_S1_1_35
    datatype: area
    required: false
--- 
progress: 77
question: |
  Please disclose whether the undertaking provides or is planning to provide staff training on non-discrimination policies and practices.* 
help:
  label: Help?
  heading: <BR><h6>Explanation</h6>
  content: |
    Place a particular focus on middle and upper management to raise awareness and address resolution strategies for preventing and addressing systemic and incidental discrimination.
back button: True
fields:
  - no label: ESRS_S1_1_36
    datatype: area
    required: false
--- 
progress: 81
question: |
  Please disclose whether the undertaking makes adjustments to the physical environment to ensure health and safety for workers, customers and other visitors with disabilities.* 
back button: True
fields:
  - no label: ESRS_S1_1_37
    datatype: area
    required: false
--- 
progress: 85
question: |
  Please disclose whether the undertaking evaluates or plans to evaluate whether job requirements have been defined in a way that could systematically disadvantage certain groups.* 
back button: True
fields:
  - no label: ESRS_S1_1_38
    datatype: area
    required: false
--- 
progress: 89
question: |
  Please disclose whether the undertaking keeps or is planning to keep up-to-date records on recruitment, training and promotion that provide a transparent view of opportunities for employees and their progression within the undertaking.* 
back button: True
fields:
  - no label: ESRS_S1_1_39
    datatype: area
    required: false
--- 
progress: 93
question: |
  Please disclose whether the undertaking puts or is planning to put in place grievance procedures to address complaints, handle appeals and provide recourse for employees (especially in the context of negotiations and collective agreements) when discrimination is identified, and is alert to formal structures and informal cultural issues that can prevent employees from raising concerns and grievances.* 
back button: True
fields:
  - no label: ESRS_S1_1_40
    datatype: area
    required: false
--- 
progress: 97
question: |
  Please disclose whether the undertaking has or is planning to have programs to promote access to skills development.* 
back button: True
fields:
  - no label: ESRS_S1_1_41
    datatype: area
    required: false
---
code: |
  ESRS_S1_1_4[i].name.text=ESRS_S1_1_4[i].ESRS_S1_1_5
---
progress: 0
back button: True
question: |
  Please enter the name of the organisation you represent.
fields:
  - Organisation name: external_organisation_name
    required: false

---
#! Response report before submission
progress: 100
field: final_screen
back button: True
question: |
  Congratulations!
subquestion: |
  All questions have been addressed. Press the submit button below to send in your answers.
continue button label: Submit answers!

---
#! Response report before submission
event: error_screen
prevent going back: True
question: |
  Something went wrong when submitting your answers. 
subquestion: |  
  Please try again or contact <a href="mailto:info@beyondcsrd.se">info@beyondcsrd.se</a> for help.
under: |
  Details: ${ response_content.decode() }
buttons:
  Exit: exit

---

event: require_login_screen
question: |
  Oops! You have been logged out. Please login again.
subquestion: |
  ${ action_button_html(login_url, size='md', color='primary', label='Login', new_window=False) }

---

event: invalid_token_screen
question: |
  Your survey token is invalid. Please contact the administrator to request a new url. 

---